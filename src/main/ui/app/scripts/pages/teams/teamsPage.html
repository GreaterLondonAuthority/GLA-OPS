<div class="teams page">

  <page-header class="mbottom10 no-padding">Teams</page-header>

  <div class="text-right">
    <button class="btn btn-secondary mbottom10" ng-click="$ctrl.showTeamModal({})" ng-if="$ctrl.canAddTeams">
      ADD NEW <b>+</b>
    </button>
  </div>

  <div class="table-responsive">
    <table class="table table-hover table-bordered table-striped teams-table">
      <thead class="thead-inverse uppercase">
      <tr>
        <th>MANAGING ORGANISATION</th>
        <th>TEAM NAME</th>
        <th>LAST UPDATED ON</th>
        <th>LAST UPDATED BY</th>
      </tr>
      </thead>

      <tbody>
        <tr ng-repeat="team in $ctrl.teams | orderBy : 'name' track by team.id"
                 ng-click="team.canBeEdited && $ctrl.showTeamModal(team)"
                 ng-class="{'cursor-pointer': team.canBeEdited}">
          <td>{{team.organisationName}}</td>
          <td>{{team.name}}</td>
          <td>{{(team.modifiedOn || team.createdOn) | date: "dd/MM/yyyy"}}</td>
          <td class="delete-btn-container">
            <span>{{team.modifiedBy || team.createdBy}}</span>
            <delete-button ng-if="team.canBeEdited" ng-click="$ctrl.delete(team); $event.stopPropagation();"></delete-button>
          </td>
        </tr>
        <tr ng-if="!$ctrl.teams.length" class="bolder">
          <td colspan="4">Not Provided</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
